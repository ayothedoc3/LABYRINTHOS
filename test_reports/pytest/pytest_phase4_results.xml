<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="4" skipped="0" tests="28" time="2.652" timestamp="2026-01-10T14:32:43.257499+00:00" hostname="agent-env-7b20bb0e-712a-4b3e-9dae-90475e7d7f78"><testcase classname="tests.test_phase4_external_api.TestExternalAPIAuthentication" name="test_missing_api_key_returns_401" time="0.077" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIAuthentication" name="test_invalid_api_key_returns_401" time="0.040" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIAuthentication" name="test_valid_api_key_returns_200" time="0.039" /><testcase classname="tests.test_phase4_external_api.TestExternalAPISeedDemo" name="test_seed_demo_data" time="0.035" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDeals" name="test_create_deal" time="0.118" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDeals" name="test_get_deal" time="0.109" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDeals" name="test_get_nonexistent_deal_returns_404" time="0.108" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDeals" name="test_update_deal_basic_fields" time="0.109" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDealStageValidation" name="test_validate_stage_allowed" time="0.067" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDealStageValidation" name="test_validate_stage_blocked_invalid_transition" time="0.112" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDealStageValidation" name="test_validate_stage_blocked_missing_requirements" time="0.107" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIDealWonFlow" name="test_deal_won_creates_contract" time="0.104"><failure message="assert 520 == 200&#10; +  where 520 = &lt;Response [520]&gt;.status_code">tests/test_phase4_external_api.py:220: in test_deal_won_creates_contract
    assert response.status_code == 200
E   assert 520 == 200
E    +  where 520 = &lt;Response [520]&gt;.status_code</failure></testcase><testcase classname="tests.test_phase4_external_api.TestExternalAPIDealWonFlow" name="test_deal_lost_updates_status" time="0.106" /><testcase classname="tests.test_phase4_external_api.TestExternalAPILeads" name="test_create_lead" time="0.143" /><testcase classname="tests.test_phase4_external_api.TestExternalAPILeads" name="test_get_lead" time="0.072" /><testcase classname="tests.test_phase4_external_api.TestExternalAPILeads" name="test_get_nonexistent_lead_returns_404" time="0.067" /><testcase classname="tests.test_phase4_external_api.TestExternalAPILeads" name="test_update_lead" time="0.073" /><testcase classname="tests.test_phase4_external_api.TestExternalAPILeadAutoThread" name="test_new_lead_creates_communication_thread" time="0.070" /><testcase classname="tests.test_phase4_external_api.TestExternalAPITasks" name="test_create_task" time="0.074" /><testcase classname="tests.test_phase4_external_api.TestExternalAPITasks" name="test_update_task" time="0.108"><failure message="assert None is not None">tests/test_phase4_external_api.py:403: in test_update_task
    assert data["completed_at"] is not None
E   assert None is not None</failure></testcase><testcase classname="tests.test_phase4_external_api.TestExternalAPITasks" name="test_get_deal_tasks" time="0.076" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIPartners" name="test_create_partner" time="0.069" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIPartners" name="test_list_partners" time="0.068" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIKPIs" name="test_get_kpis" time="0.068" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIPipeline" name="test_get_pipeline" time="0.107" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIWebhooks" name="test_register_webhook" time="0.068"><failure message="AssertionError: assert 'sla.breach' in ['*']">tests/test_phase4_external_api.py:564: in test_register_webhook
    assert "sla.breach" in data["events"]
E   AssertionError: assert 'sla.breach' in ['*']</failure></testcase><testcase classname="tests.test_phase4_external_api.TestExternalAPIWebhooks" name="test_list_webhooks" time="0.145" /><testcase classname="tests.test_phase4_external_api.TestExternalAPIStageGateIntegration" name="test_stage_transition_with_completed_tasks" time="0.105"><failure message="assert False == True">tests/test_phase4_external_api.py:618: in test_stage_transition_with_completed_tasks
    assert validate_response.json()["allowed"] == True
E   assert False == True</failure></testcase></testsuite></testsuites>